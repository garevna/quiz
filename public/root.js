(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["root"],{

/***/ "./components/root.js":
/*!****************************!*\
  !*** ./components/root.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data() {\n    return {\n      mainDataSource: \"data/mainData.json\",\n      drawer: null,\n      startQuiz: false,\n      level: 1,\n      mainQuizData: null,\n      quizResults: {\n        score: 0,\n        lives: 0,\n        maxScore: 0\n      },\n      sign_in_process: false,\n      sign_up_process: false,\n      login: null,\n      showInfo: false,\n      winHeight: window.innerHeight,\n      winWidth: window.innerWidth\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.userInfo;\n    },\n\n    mainMenuReady() {\n      return this.$store.getters.mainMenuReady;\n    },\n\n    mainMenuItems() {\n      return this.$store.getters.mainMenuItems;\n    },\n\n    quizReady() {\n      return this.$store.state.quizReady;\n    },\n\n    showFooter() {\n      return !this.startQuiz && this.winHeight > 700;\n    }\n\n  },\n\n  mounted() {\n    this.getMainData().then(response => console.log(response));\n    let folderName = decodeURI(location.hash).slice(1).trim();\n    this.$on('start-quiz', function (val) {\n      !this.login ? this.sign_in_process = true : this.startQuiz = true;\n    });\n    this.$on('exit-quiz', function () {\n      location.hash = \"\";\n      this.startQuiz = false;\n    });\n    this.$on('closeNavigationPanel', function () {\n      this.drawer = false;\n    });\n    this.$on('close-info', function () {\n      this.showInfo = false;\n    });\n    this.$on('navigation-drawer-state', function (val) {\n      this.drawer = val;\n    });\n    this.$on('sign-in-finished', function () {\n      this.sign_in_process = false;\n    });\n    this.$on('sign-up-finished', function () {\n      this.sign_up_process = false;\n    });\n    this.$vuetify.theme = {\n      primary: '#234',\n      secondary: '#fa0',\n      accent: '#f50',\n      error: '#d00',\n      info: '#09b',\n      success: '#050',\n      warning: '#fa0',\n      codeSection: \"#00000000\"\n    };\n    this.getCookies().then(this.sign_in_process = !this.login ? true : false);\n    this.windowResized();\n  },\n\n  created() {},\n\n  methods: {\n    async getMainData() {\n      let response = await (await fetch(this.mainDataSource)).json();\n\n      if (response) {\n        this.$store.commit('setMainData', response);\n\n        let __hash = decodeURI(location.hash).slice(1).trim();\n\n        __hash ? this.getQuizData(__hash) : null;\n        return \"success\";\n      } else return 'Error reading the main data file ';\n    },\n\n    async getQuizData(theme) {\n      if (theme) {\n        let ___data = this.$store.state.mainData.find(x => x.folder === theme);\n\n        this.$store.commit('setQuizName', theme);\n        await this.$store.dispatch('getQuizData', {\n          folder: ___data.folder,\n          files: ___data.levels\n        });\n        this.startQuiz = true;\n      }\n    },\n\n    signOut() {\n      this.$store.commit(\"setUser\", {\n        login: \"\",\n        name: \"\",\n        fname: \"\",\n        photoURL: \"\",\n        registered: \"\"\n      });\n      this.$store.commit(\"setUserResults\", {});\n      this.login = null;\n    },\n\n    async getCookies() {\n      this.login = Object.assign({}, ...document.cookie.split(\"; \").map(item => item.split(\"=\")).map(item => Object.assign({}, {\n        [item[0]]: item[1]\n      }))).user;\n      if (!this.login) return this.signOut();\n      let response = await this.$store.dispatch(\"getUserInfo\", this.login);\n      if (response.error) return this.signOut();\n      this.$store.commit(\"setUser\", {\n        login: this.login,\n        name: response.name,\n        fname: response.fname,\n        photoURL: response.photoURL,\n        registered: response.registered\n      });\n      this.$store.commit(\"setUserResults\", response.results);\n    },\n\n    windowResized() {\n      this.winHeight = window.innerHeight;\n      this.winWidth = window.innerWidth;\n    }\n\n  }\n});\n\n//# sourceURL=webpack:///./components/root.js?");

/***/ })

}]);