(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{137:function(t,i,s){"use strict";s.r(i),i.default={data:()=>({mainDataSource:"data/mainData.json",drawer:null,startQuiz:!1,level:1,mainQuizData:null,quizResults:{score:0,lives:0,maxScore:0},sign_in_process:!1,sign_up_process:!1,login:null,showInfo:!1,winHeight:window.innerHeight,winWidth:window.innerWidth}),computed:{user(){return this.$store.state.userInfo},mainMenuReady(){return this.$store.getters.mainMenuReady},mainMenuItems(){return this.$store.getters.mainMenuItems},quizReady(){return this.$store.state.quizReady},showFooter(){return!this.startQuiz&&this.winHeight>700}},mounted(){this.getMainData().then(t=>console.log(t));decodeURI(location.hash).slice(1).trim();this.$on("start-quiz",(function(t){this.login?this.startQuiz=!0:this.sign_in_process=!0})),this.$on("exit-quiz",(function(){location.hash="",this.startQuiz=!1})),this.$on("closeNavigationPanel",(function(){this.drawer=!1})),this.$on("close-info",(function(){this.showInfo=!1})),this.$on("navigation-drawer-state",(function(t){this.drawer=t})),this.$on("sign-in-finished",(function(){this.sign_in_process=!1})),this.$on("sign-up-finished",(function(){this.sign_up_process=!1})),this.getCookies().then(this.sign_in_process=!this.login),this.windowResized()},created(){},methods:{async getMainData(){let t=await(await fetch(this.mainDataSource)).json();if(t){this.$store.commit("setMainData",t);let i=decodeURI(location.hash).slice(1).trim();return i&&this.getQuizData(i),"success"}return"Error reading the main data file "},async getQuizData(t){if(t){let i=this.$store.state.mainData.find(i=>i.folder===t);this.$store.commit("setQuizName",t),await this.$store.dispatch("getQuizData",{folder:i.folder,files:i.levels}),this.startQuiz=!0}},signOut(){this.$store.commit("setUser",{login:"",name:"",fname:"",photoURL:"",registered:""}),this.$store.commit("setUserResults",{}),this.login=null},async getCookies(){if(this.login=Object.assign({},...document.cookie.split("; ").map(t=>t.split("=")).map(t=>Object.assign({},{[t[0]]:t[1]}))).user,!this.login)return this.signOut();let t=await this.$store.dispatch("getUserInfo",this.login);if(t.error)return this.signOut();this.$store.commit("setUser",{login:this.login,name:t.name,fname:t.fname,photoURL:t.photoURL,registered:t.registered}),this.$store.commit("setUserResults",t.results)},windowResized(){this.winHeight=window.innerHeight,this.winWidth=window.innerWidth}}}}}]);